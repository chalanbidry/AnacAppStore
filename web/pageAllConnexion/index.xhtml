<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <ui:composition template="./../template/baseAllAppli.xhtml">
        <ui:define name="selectedMenu">

        </ui:define>
        <ui:define name="css">
            <link rel="stylesheet" href="#{request.contextPath}/resources/css/bootstrap.min.css"/>

            <!-- Related styles of various icon packs and plugins -->
            <link rel="stylesheet" href="#{request.contextPath}/resources/css/plugins.css"/>

            <!-- The main stylesheet of this template. All Bootstrap overwrites are defined in here -->
            <!--<link rel="stylesheet" href="#{request.contextPath}/resources/css/main.css"/>-->

            <!-- Include a specific file here from css/themes/ folder to alter the default theme of the template -->

            <!-- The themes stylesheet of this template (for using specific theme color in individual elements - must included last) -->
            <link rel="stylesheet" href="#{request.contextPath}/resources/css/themes.css"/>
            <!-- END Stylesheets -->

            <!-- Modernizr (browser feature detection library) -->
            <script src="#{request.contextPath}/resources/js/vendor/modernizr-2.8.3.min.js"></script>
        </ui:define>
        <ui:define name="content">
            <ui:include src="AllAppli.xhtml"/>
       
        </ui:define>
        <ui:define name="script">
        <!--<script src="#{request.contextPath}/resources/js/vendor/jquery-2.2.0.min.js"></script>-->
            <script src="#{request.contextPath}/resources/js/vendor/bootstrap.min.js"></script>
            <script src="#{request.contextPath}/resources/js/plugins.js"></script>
            <script src="#{request.contextPath}/resources/js/app.js"></script>

            <script src="#{request.contextPath}/resources/js/plugins/gmaps.min.js"></script>

            <!-- Load and execute javascript code used only in this page -->
            <script src="#{request.contextPath}/resources/js/pages/appSocial.js"></script>
            <!-- ckeditor.js, load it only in the page you would like to use CKEditor (it's a heavy plugin to include it with the others!) -->
            <script src="#{request.contextPath}/resources/js/plugins/ckeditor/ckeditor.js"></script> 
            <!-- Load and execute javascript code used only in this page -->
            <script src="#{request.contextPath}/resources/js/pages/formsComponents.js"></script> 
            <script>$(function () {
                    AppSocial.init();
                });</script>

            <script>
                $(function () {
                    FormsComponents.init();
                });
                $(function () {
                    UiTables.init('#DataTableID', 6);
                });
                $(function () {
                    UiProgress.init();
                });

//$("#SendChatForm").submit( function (e) {
//    $('#buttonSend').click();
//}
//                $('#SendChatForm').on('keyup keypress', function (e) {
//                    var keyCode = e.keyCode || e.which;
//                    if (keyCode === 13) {
////                        e.preventDefault();
//                        $('#buttonSend').click();
//
//
//                        return false;
//                    }
//                });


                function global() {
                    initialiserChosenSelect();
                }

                function startWaitMe(element) {
                    $('#waitforme').waitMe({
                        effect: 'timer',
                        text: 'Patientez un peu svp...',
                        bg: 'rgba(255,255,255,0.7)',
                        color: '#000',
                        sizeW: '',
                        sizeH: '',
                        source: ''
                    });
                }

                function stopWaitMe(element) {
                    $('#waitforme').waitMe('hide');
                }

                function callPublicationForm(data) {
                    if (data.status === "begin") {
                        startWaitMe("#submit_new");
                    }
                    if (data.status === "complete") {
                        stopWaitMe("#submit_new");
                    }
                    if (data.status === "success") {
                        initialiserChosenSelect();

                    }
                }


                function chooseDepAndCheck(data) {
                    if (data.status === "begin") {
                        startWaitMe("#submit_new");
                    }
                    if (data.status === "complete") {
                        stopWaitMe("#submit_new");
                    }
                    if (data.status === "success") {
                        initialiserChosenSelect();

                    }
                }

                function editUser(data) {
                    if (data.status === "begin") {
                        startWaitMe("#submit_new");
                    }
                    if (data.status === "complete") {
                        stopWaitMe("#submit_new");
                    }
                    if (data.status === "success") {
                        initialiserChosenSelect();

                    }
                }


                function startWaitMeUserConnect(element) {
                    $('#divConnectes').waitMe({
                        effect: 'timer',
                        text: 'Patientez un peu svp...',
                        bg: 'rgba(255,255,255,0.7)',
                        color: '#000',
                        sizeW: '',
                        sizeH: '',
                        source: ''
                    });
                }

                function stopWaitMeUserConnect(element) {
                    $('#divConnectes').waitMe('hide');
                }

                function refreshUserConnecte(data) {
                    if (data.status === "begin") {
                        startWaitMeUserConnect("#divConnectes");
                    }
                    if (data.status === "complete") {
                        stopWaitMeUserConnect("#divConnectes");
                    }
                    if (data.status === "success") {
//                        initialiserChosenSelect();

                    }
                }


                function startWaitMeChat(element) {
                    $('#listMsgChat').waitMe({
                        effect: 'timer',
                        text: 'Patientez un peu svp...',
                        bg: 'rgba(255,255,255,0.7)',
                        color: '#000',
                        sizeW: '',
                        sizeH: '',
                        source: ''
                    });
                }

                function stopWaitMeChat(element) {
                    $('#listMsgChat').waitMe('hide');
                }


                function SendMsessageChat(data) {
                    if (data.status === "begin") {
                        startWaitMeChat("#listMsgChat");
                    }
                    if (data.status === "complete") {
                        stopWaitMeChat("#listMsgChat");
                    }
                    if (data.status === "success") {

                      
                    }
                }

                function deletedemande(data) {

                    if (data.status === "success") {
                        initialiserChosenSelect();
                        UiTables.init('#DataTableID', 2);
                    }
                }


            </script>
        </ui:define>
    </ui:composition>
</html>
